buildscript {
    repositories {
        maven { url "https://oss.sonatype.org/content/repositories/snapshots" }
    }
    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$versions.kotlin"
        classpath 'com.vanniktech:gradle-maven-publish-plugin:0.7.0-SNAPSHOT'
    }
}

plugins {
    id "com.gradle.plugin-publish" version "0.10.0"
    id "java-gradle-plugin"
}

apply plugin: "kotlin"
apply plugin: "com.vanniktech.maven.publish"

dependencies {
    implementation "com.android.tools.build:gradle:$versions.androidGradlePlugin"
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8:$versions.kotlin"
}

gradlePlugin {
    plugins {
        disabler {
            id = 'pl.droidsonroids.animation-disabler'
            implementationClass = 'pl.droidsonroids.gradle.animation.AnimationDisablerPlugin'
        }
    }
}

group = GROUP
version = VERSION_NAME

pluginBundle {
    website = POM_URL
    vcsUrl = POM_SCM_URL
    description = POM_DESCRIPTION
    tags = ['android', 'ci', 'espresso', 'test', 'UI', 'animation']

    plugins {
        disabler {
            displayName = POM_NAME
            description = POM_DESCRIPTION
        }
    }
}